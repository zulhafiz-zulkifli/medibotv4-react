{"ast":null,"code":"var _jsxFileName = \"/home/zulh2605/catkin_ws/src/medibotv4_react/src/components/RobotState.jsx\";\nimport React, { Component } from \"react\";\nimport { Row, Col, ListGroup } from \"react-bootstrap\";\nimport Config from \"../scripts/config\";\nimport * as Three from \"three\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass RobotState extends Component {\n  constructor() {\n    super();\n    this.state = {\n      ros: null,\n      x: 0,\n      y: 0,\n      orientation: 0,\n      linear_velocity: 0,\n      angular_velocity: 0\n    };\n    this.init_connection();\n  }\n\n  init_connection() {\n    // eslint-disable-next-line\n    this.state.ros = new window.ROSLIB.Ros();\n    this.state.ros.on(\"connection\", () => {\n      console.info(\"Connected to ROS:ROBOTSTATE\");\n      this.setState({\n        connected: true\n      });\n    });\n    this.state.ros.on(\"close\", () => {\n      console.warn(\"Disconnected from ROS:ROBOTSTATE\");\n      this.setState({\n        connected: false\n      }); //try to reconnect every 3 seconds\n\n      setTimeout(() => {\n        try {\n          this.state.ros.connect(\"ws://\" + Config.ROSBRIDGE_SERVER_IP + \":\" + Config.ROSBRIDGE_SERVER_PORT + \"\");\n        } catch (error) {\n          console.error(\"Connection problem : ROBOTSTATE\");\n        }\n      }, Config.RECONNECTION_TIMER);\n    });\n\n    try {\n      this.state.ros.connect(\"ws://\" + Config.ROSBRIDGE_SERVER_IP + \":\" + Config.ROSBRIDGE_SERVER_PORT + \"\");\n    } catch (error) {\n      console.error(\"Connection problem : ROBOTSTATE\");\n    }\n\n    this.state.ros.on(\"error\", error => {// console.log('Error connecting to ROS: ', error);\n    });\n  }\n\n  componentDidMount() {\n    this.getRobotState();\n  }\n\n  getRobotState() {\n    //create a twist subscriber\n    var vel_subscriber = new window.ROSLIB.Topic({\n      ros: this.state.ros,\n      name: Config.CMD_VEL_TOPIC,\n      messageType: \"geometry_msgs/Twist\" //messageType: \"geometry_msgs/PoseWithCovariance\"\n\n    }); //create a twist callback\n\n    vel_subscriber.subscribe(message => {\n      this.setState({\n        linear_velocity: message.linear.x.toFixed(2)\n      });\n      this.setState({\n        angular_velocity: message.angular.z.toFixed(2)\n      }); //this.setState({orientation:message.theta.toFixed(2)});\n      //this.setState({orientation:this.getOrientationFromQuaternion(message.pose.pose.orientation).toFixed(2)});\n    }); //create a pose subscriber\n\n    var pose_subscriber = new window.ROSLIB.Topic({\n      ros: this.state.ros,\n      name: Config.ODOM_TOPIC,\n      messageType: \"nav_msgs/Odometry\"\n    }); //create a pose callback\n\n    pose_subscriber.subscribe(message => {\n      this.setState({\n        x: message.pose.pose.position.x.toFixed(2)\n      });\n      this.setState({\n        y: message.pose.pose.position.y.toFixed(2)\n      });\n      this.setState({\n        orientation: this.getOrientationFromQuaternion(message.pose.pose.orientation).toFixed(2)\n      });\n    });\n  }\n\n  getOrientationFromQuaternion(ros_orientation_quat) {\n    var q = new Three.Quaternion(ros_orientation_quat.x, ros_orientation_quat.y, ros_orientation_quat.z, ros_orientation_quat.w); //convert this quaternion into roll, pitch and yaw\n\n    var RPY = new Three.Euler().setFromQuaternion(q);\n    return RPY[\"_z\"] * (180 / Math.PI);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(ListGroup, {\n          children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: \"No style\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            variant: \"primary\",\n            children: \"Primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            variant: \"secondary\",\n            children: \"Secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            variant: \"success\",\n            children: \"Success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            variant: \"danger\",\n            children: \"Danger\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            variant: \"warning\",\n            children: \"Warning\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            variant: \"info\",\n            children: \"Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            variant: \"light\",\n            children: \"Light\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            variant: \"dark\",\n            children: \"Dark\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mt-4\",\n            children: \"Velocity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-0\",\n            children: [\"Linear Velocity : \", this.state.linear_velocity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-0\",\n            children: [\"Angular Velocity : \", this.state.angular_velocity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mt-4\",\n            children: \"Position\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-0\",\n            children: [\"x : \", this.state.x]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-0\",\n            children: [\"y : \", this.state.x]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-0\",\n            children: [\"Orientation : \", this.state.orientation]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default RobotState;","map":{"version":3,"sources":["/home/zulh2605/catkin_ws/src/medibotv4_react/src/components/RobotState.jsx"],"names":["React","Component","Row","Col","ListGroup","Config","Three","RobotState","constructor","state","ros","x","y","orientation","linear_velocity","angular_velocity","init_connection","window","ROSLIB","Ros","on","console","info","setState","connected","warn","setTimeout","connect","ROSBRIDGE_SERVER_IP","ROSBRIDGE_SERVER_PORT","error","RECONNECTION_TIMER","componentDidMount","getRobotState","vel_subscriber","Topic","name","CMD_VEL_TOPIC","messageType","subscribe","message","linear","toFixed","angular","z","pose_subscriber","ODOM_TOPIC","pose","position","getOrientationFromQuaternion","ros_orientation_quat","q","Quaternion","w","RPY","Euler","setFromQuaternion","Math","PI","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {Row, Col, ListGroup} from \"react-bootstrap\";\nimport Config from \"../scripts/config\";\nimport * as Three from \"three\";\n\nclass RobotState extends Component {\n\tstate = {\n\t\tros:null,\n\t\tx:0,\n\t\ty:0,\n\t\torientation:0,\n\t\tlinear_velocity:0,\n\t\tangular_velocity:0\n\t};\n\n\tconstructor(){\n\t\tsuper();\n\t\tthis.init_connection();\n\t}\n\n\tinit_connection(){\n\t\t// eslint-disable-next-line\n\t\tthis.state.ros = new window.ROSLIB.Ros();\n\n\t\tthis.state.ros.on(\"connection\", () => {\n\t\t\tconsole.info(\"Connected to ROS:ROBOTSTATE\");\n\t\t\tthis.setState({connected:true});\n\t\t});\n\n\t\tthis.state.ros.on(\"close\", () => {\n\t\t\tconsole.warn(\"Disconnected from ROS:ROBOTSTATE\");\n\t\t\tthis.setState({connected:false});\n\t\t\t//try to reconnect every 3 seconds\n\t\t\tsetTimeout(()=>{\n\t\t\t\ttry{\n\t\t\t\t\tthis.state.ros.connect(\n\t\t\t\t\t\t\"ws://\"+Config.ROSBRIDGE_SERVER_IP+\":\"+Config.ROSBRIDGE_SERVER_PORT+\"\"\n\t\t\t\t\t);\n\t\t\t\t}catch(error){\n\t\t\t\t\tconsole.error(\"Connection problem : ROBOTSTATE\");\n\t\t\t\t}\n\t\t\t},Config.RECONNECTION_TIMER);\n\t\t});\n\n\t\ttry{\n\t\t\tthis.state.ros.connect(\n\t\t\t\t\"ws://\"+Config.ROSBRIDGE_SERVER_IP+\":\"+Config.ROSBRIDGE_SERVER_PORT+\"\"\n\t\t\t);\n\t\t}catch(error){\n\t\t\tconsole.error(\"Connection problem : ROBOTSTATE\");\n\t\t}\n\n\t\tthis.state.ros.on(\"error\", (error) => {\n\t\t\t// console.log('Error connecting to ROS: ', error);\n\t\t});\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.getRobotState();\n\t}\n\n\tgetRobotState(){\n\t\t//create a twist subscriber\n\t\tvar vel_subscriber = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.CMD_VEL_TOPIC,\n\t\t\tmessageType : \"geometry_msgs/Twist\"\n\t\t\t//messageType: \"geometry_msgs/PoseWithCovariance\"\n\t\t});\n\t\t//create a twist callback\n\t\tvel_subscriber.subscribe((message)=>{\n\t\t\tthis.setState({linear_velocity:message.linear.x.toFixed(2)});\n\t\t\tthis.setState({angular_velocity:message.angular.z.toFixed(2)});\n\t\t\t//this.setState({orientation:message.theta.toFixed(2)});\n\t\t\t//this.setState({orientation:this.getOrientationFromQuaternion(message.pose.pose.orientation).toFixed(2)});\n\t\t});\n\n\t\t//create a pose subscriber\n\t\tvar pose_subscriber = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.ODOM_TOPIC,\n\t\t\tmessageType : \"nav_msgs/Odometry\"\n\t\t});\n\t\t//create a pose callback\n\t\tpose_subscriber.subscribe((message)=>{\n\t\t\tthis.setState({x:message.pose.pose.position.x.toFixed(2)});\n\t\t\tthis.setState({y:message.pose.pose.position.y.toFixed(2)});\n\t\t\tthis.setState({orientation:this.getOrientationFromQuaternion(message.pose.pose.orientation).toFixed(2)});\n\t\t});\n\t}\n\n\tgetOrientationFromQuaternion(ros_orientation_quat){\n\t\tvar q = new Three.Quaternion(\n\t\t\tros_orientation_quat.x,\n\t\t\tros_orientation_quat.y,\n\t\t\tros_orientation_quat.z,\n\t\t\tros_orientation_quat.w\n\t\t);\n\t\t//convert this quaternion into roll, pitch and yaw\n\t\tvar RPY = new Three.Euler().setFromQuaternion(q);\n\t\treturn RPY[\"_z\"]*(180/Math.PI);\n\t}\n\n\trender() {\n\t\treturn ( \n\t\t\t<div>\n\t\t\t\t<Row>\n\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t<ListGroup.Item>No style</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item variant=\"primary\">Primary</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item variant=\"secondary\">Secondary</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item variant=\"success\">Success</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item variant=\"danger\">Danger</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item variant=\"warning\">Warning</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item variant=\"info\">Info</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item variant=\"light\">Light</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item variant=\"dark\">Dark</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<h4 className=\"mt-4\">Velocity</h4>\n\t\t\t\t\t\t<p className=\"mt-0\">Linear Velocity : {this.state.linear_velocity}</p>\n\t\t\t\t\t\t<p className=\"mt-0\">Angular Velocity : {this.state.angular_velocity}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<h4 className=\"mt-4\">Position</h4>\n\t\t\t\t\t\t<p className=\"mt-0\">x : {this.state.x}</p>\n\t\t\t\t\t\t<p className=\"mt-0\">y : {this.state.x}</p>\n\t\t\t\t\t\t<p className=\"mt-0\">Orientation : {this.state.orientation}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RobotState;"]},"metadata":{},"sourceType":"module"}