{"ast":null,"code":"var _jsxFileName = \"/home/zulh2605/catkin_ws/src/medibotv4_react/src/components/RobotState.jsx\";\nimport React, { Component } from \"react\";\nimport { Row, Col, ListGroup, Button, ButtonGroup } from \"react-bootstrap\";\nimport Config from \"../scripts/config\";\nimport * as Three from \"three\";\nimport Teleoperation from \"./Teleoperation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass RobotState extends Component {\n  constructor() {\n    super();\n    this.state = {\n      ros: null,\n      x: 0,\n      y: 0,\n      orientation: 0,\n      linear_velocity: 0,\n      angular_velocity: 0,\n      pwm: 80,\n      pwm_turn: 60,\n      pwm_control: false,\n      lwheel: 0,\n      rwheel: 0\n    };\n    this.init_connection();\n    this.changePwm = this.changePwm.bind(this);\n  }\n\n  init_connection() {\n    // eslint-disable-next-line\n    this.state.ros = new window.ROSLIB.Ros();\n    this.state.ros.on(\"connection\", () => {\n      console.info(\"Connected to ROS:ROBOTSTATE\");\n      this.setState({\n        connected: true\n      });\n    });\n    this.state.ros.on(\"close\", () => {\n      console.warn(\"Disconnected from ROS:ROBOTSTATE\");\n      this.setState({\n        connected: false\n      }); //try to reconnect every 3 seconds\n\n      setTimeout(() => {\n        try {\n          this.state.ros.connect(\"ws://\" + Config.ROSBRIDGE_SERVER_IP + \":\" + Config.ROSBRIDGE_SERVER_PORT + \"\");\n        } catch (error) {\n          console.error(\"Connection problem : ROBOTSTATE\");\n        }\n      }, Config.RECONNECTION_TIMER);\n    });\n\n    try {\n      this.state.ros.connect(\"ws://\" + Config.ROSBRIDGE_SERVER_IP + \":\" + Config.ROSBRIDGE_SERVER_PORT + \"\");\n    } catch (error) {\n      console.error(\"Connection problem : ROBOTSTATE\");\n    }\n\n    this.state.ros.on(\"error\", error => {// console.log('Error connecting to ROS: ', error);\n    });\n  }\n\n  componentDidMount() {\n    this.getRobotState();\n    this.changePwm(0, 0);\n  }\n\n  getRobotState() {\n    //create a twist subscriber\n    var vel_subscriber = new window.ROSLIB.Topic({\n      ros: this.state.ros,\n      name: Config.CMD_VEL_TOPIC,\n      messageType: \"geometry_msgs/Twist\" //messageType: \"geometry_msgs/PoseWithCovariance\"\n\n    }); //create a twist callback\n\n    vel_subscriber.subscribe(message => {\n      this.setState({\n        linear_velocity: message.linear.x\n      });\n      this.setState({\n        angular_velocity: message.angular.z\n      });\n    }); //create a pose subscriber\n\n    var pose_subscriber = new window.ROSLIB.Topic({\n      ros: this.state.ros,\n      name: Config.ODOM_TOPIC,\n      messageType: \"nav_msgs/Odometry\"\n    }); //create a pose callback\n\n    pose_subscriber.subscribe(message => {\n      this.setState({\n        x: message.pose.pose.position.x\n      });\n      this.setState({\n        y: message.pose.pose.position.y\n      });\n      this.setState({\n        orientation: this.getOrientationFromQuaternion(message.pose.pose.orientation)\n      });\n    }); //create a pwm subscriber\n\n    var pwm_subscriber = new window.ROSLIB.Topic({\n      ros: this.state.ros,\n      name: Config.PWM_TOPIC,\n      messageType: \"std_msgs/Int16\"\n    }); //create a pwm callback\n\n    pwm_subscriber.subscribe(message => {\n      this.setState({\n        pwm: message.data\n      });\n    }); //create a pwm turn subscriber\n\n    var pwm_turn_subscriber = new window.ROSLIB.Topic({\n      ros: this.state.ros,\n      name: Config.PWM_TURN_TOPIC,\n      messageType: \"std_msgs/Int16\"\n    }); //create a pwm callback\n\n    pwm_turn_subscriber.subscribe(message => {\n      this.setState({\n        pwm_turn: message.data\n      });\n    }); //create a lwheel subscriber\n\n    var lwheel_subscriber = new window.ROSLIB.Topic({\n      ros: this.state.ros,\n      name: Config.ENCODER_LEFT_TOPIC,\n      messageType: \"std_msgs/Int16\"\n    }); //create a lwheel callback\n\n    lwheel_subscriber.subscribe(message => {\n      this.setState({\n        lwheel: message.data\n      });\n    }); //create a rwheel subscriber\n\n    var rwheel_subscriber = new window.ROSLIB.Topic({\n      ros: this.state.ros,\n      name: Config.ENCODER_RIGHT_TOPIC,\n      messageType: \"std_msgs/Int16\"\n    }); //create a rwheel callback\n\n    rwheel_subscriber.subscribe(message => {\n      this.setState({\n        rwheel: message.data\n      });\n    });\n  }\n\n  changePwm(dpwm, dpwm_turn) {\n    var pwm_publisher = new window.ROSLIB.Topic({\n      ros: this.state.ros,\n      name: Config.PWM_TOPIC,\n      messageType: 'std_msgs/Int16'\n    });\n    var pwm_turn_publisher = new window.ROSLIB.Topic({\n      ros: this.state.ros,\n      name: Config.PWM_TURN_TOPIC,\n      messageType: 'std_msgs/Int16'\n    });\n    var pwm_msg = new window.ROSLIB.Message({\n      data: this.state.pwm + dpwm\n    });\n    var pwm_turn_msg = new window.ROSLIB.Message({\n      data: this.state.pwm_turn + dpwm_turn\n    });\n    pwm_publisher.publish(pwm_msg);\n    pwm_turn_publisher.publish(pwm_turn_msg);\n  }\n\n  changeROSState() {\n    this.setState({\n      pwm_control: !this.state.pwm_control\n    });\n    var pwm_control_publisher = new window.ROSLIB.Topic({\n      ros: this.state.ros,\n      name: Config.PWM_CONTROL_TOPIC,\n      messageType: 'std_msgs/Bool'\n    });\n    var pwm_control_msg = new window.ROSLIB.Message({\n      data: this.state.pwm_control\n    });\n    pwm_control_publisher.publish(pwm_control_msg);\n  }\n\n  getOrientationFromQuaternion(ros_orientation_quat) {\n    var q = new Three.Quaternion(ros_orientation_quat.x, ros_orientation_quat.y, ros_orientation_quat.z, ros_orientation_quat.w); //convert this quaternion into roll, pitch and yaw\n\n    var RPY = new Three.Euler().setFromQuaternion(q);\n    return RPY[\"_z\"] * (180 / Math.PI);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(ListGroup, {\n        children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n          variant: \"light\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"mt-4\",\n                children: [\"PWM Control\\u2002\", /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => {\n                    this.changeROSState();\n                  },\n                  variant: this.state.pwm_control ? \"danger\" : \"success\",\n                  children: this.state.pwm_control ? \"OFF\" : \"ON\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-0\",\n                children: [/*#__PURE__*/_jsxDEV(ButtonGroup, {\n                  vertical: true,\n                  size: \"sm\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => {\n                      this.changePwm(10, 0);\n                    },\n                    variant: \"secondary\",\n                    disabled: this.state.pwm_control ? true : false,\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => {\n                      this.changePwm(-10, 0);\n                    },\n                    variant: \"secondary\",\n                    disabled: this.state.pwm_control ? true : false,\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 11\n                }, this), \"\\u2003Straight PWM : \", this.state.pwm.toFixed(0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-0\",\n                children: [/*#__PURE__*/_jsxDEV(ButtonGroup, {\n                  vertical: true,\n                  size: \"sm\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => {\n                      this.changePwm(0, 10);\n                    },\n                    variant: \"secondary\",\n                    disabled: this.state.pwm_control ? true : false,\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => {\n                      this.changePwm(0, -10);\n                    },\n                    variant: \"secondary\",\n                    disabled: this.state.pwm_control ? true : false,\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 13\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 11\n                }, this), \"\\u2003Turning PWM : \", this.state.pwm_turn.toFixed(0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 9\n            }, this), \"\\u2003\", /*#__PURE__*/_jsxDEV(Col, {\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(Teleoperation, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n          variant: \"dark\",\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"mt-4\",\n                children: \"Velocity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"m-0\",\n                children: [\"Linear Velocity : \", this.state.linear_velocity.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"m-0\",\n                children: [\"Angular Velocity : \", this.state.angular_velocity.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 9\n            }, this), \"\\u2003\\u2003\\u2003\", /*#__PURE__*/_jsxDEV(Col, {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"mt-4\",\n                children: \"Position\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"m-0\",\n                children: [\"x : \", this.state.x.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"m-0\",\n                children: [\"y : \", this.state.x.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"m-0\",\n                children: [\"\\u03B8 : \", this.state.orientation.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"mt-4\",\n                children: \"Encoder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"m-0\",\n                children: [\"Left Count : \", this.state.lwheel.toFixed(0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"m-0\",\n                children: [\"Right Count : \", this.state.rwheel.toFixed(0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default RobotState;","map":{"version":3,"sources":["/home/zulh2605/catkin_ws/src/medibotv4_react/src/components/RobotState.jsx"],"names":["React","Component","Row","Col","ListGroup","Button","ButtonGroup","Config","Three","Teleoperation","RobotState","constructor","state","ros","x","y","orientation","linear_velocity","angular_velocity","pwm","pwm_turn","pwm_control","lwheel","rwheel","init_connection","changePwm","bind","window","ROSLIB","Ros","on","console","info","setState","connected","warn","setTimeout","connect","ROSBRIDGE_SERVER_IP","ROSBRIDGE_SERVER_PORT","error","RECONNECTION_TIMER","componentDidMount","getRobotState","vel_subscriber","Topic","name","CMD_VEL_TOPIC","messageType","subscribe","message","linear","angular","z","pose_subscriber","ODOM_TOPIC","pose","position","getOrientationFromQuaternion","pwm_subscriber","PWM_TOPIC","data","pwm_turn_subscriber","PWM_TURN_TOPIC","lwheel_subscriber","ENCODER_LEFT_TOPIC","rwheel_subscriber","ENCODER_RIGHT_TOPIC","dpwm","dpwm_turn","pwm_publisher","pwm_turn_publisher","pwm_msg","Message","pwm_turn_msg","publish","changeROSState","pwm_control_publisher","PWM_CONTROL_TOPIC","pwm_control_msg","ros_orientation_quat","q","Quaternion","w","RPY","Euler","setFromQuaternion","Math","PI","render","toFixed"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {Row, Col, ListGroup, Button, ButtonGroup} from \"react-bootstrap\";\nimport Config from \"../scripts/config\";\nimport * as Three from \"three\";\nimport Teleoperation from \"./Teleoperation\";\n\nclass RobotState extends Component {\n\tstate = {\n\t\tros:null,\n\t\tx:0,\n\t\ty:0,\n\t\torientation:0,\n\t\tlinear_velocity:0,\n\t\tangular_velocity:0,\n\t\tpwm:80,\n\t\tpwm_turn:60,\n\t\tpwm_control:false,\n\t\tlwheel:0,\n\t\trwheel:0\n\t};\n\n\tconstructor(){\n\t\tsuper();\n\t\tthis.init_connection();\n\t\tthis.changePwm = this.changePwm.bind(this);\n\t}\n\n\tinit_connection(){\n\t\t// eslint-disable-next-line\n\t\tthis.state.ros = new window.ROSLIB.Ros();\n\n\t\tthis.state.ros.on(\"connection\", () => {\n\t\t\tconsole.info(\"Connected to ROS:ROBOTSTATE\");\n\t\t\tthis.setState({connected:true});\n\t\t});\n\n\t\tthis.state.ros.on(\"close\", () => {\n\t\t\tconsole.warn(\"Disconnected from ROS:ROBOTSTATE\");\n\t\t\tthis.setState({connected:false});\n\t\t\t//try to reconnect every 3 seconds\n\t\t\tsetTimeout(()=>{\n\t\t\t\ttry{\n\t\t\t\t\tthis.state.ros.connect(\n\t\t\t\t\t\t\"ws://\"+Config.ROSBRIDGE_SERVER_IP+\":\"+Config.ROSBRIDGE_SERVER_PORT+\"\"\n\t\t\t\t\t);\n\t\t\t\t}catch(error){\n\t\t\t\t\tconsole.error(\"Connection problem : ROBOTSTATE\");\n\t\t\t\t}\n\t\t\t},Config.RECONNECTION_TIMER);\n\t\t});\n\n\t\ttry{\n\t\t\tthis.state.ros.connect(\n\t\t\t\t\"ws://\"+Config.ROSBRIDGE_SERVER_IP+\":\"+Config.ROSBRIDGE_SERVER_PORT+\"\"\n\t\t\t);\n\t\t}catch(error){\n\t\t\tconsole.error(\"Connection problem : ROBOTSTATE\");\n\t\t}\n\n\t\tthis.state.ros.on(\"error\", (error) => {\n\t\t\t// console.log('Error connecting to ROS: ', error);\n\t\t});\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.getRobotState();\n\t\tthis.changePwm(0,0);\n\t}\n\n\tgetRobotState(){\n\t\t//create a twist subscriber\n\t\tvar vel_subscriber = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.CMD_VEL_TOPIC,\n\t\t\tmessageType : \"geometry_msgs/Twist\"\n\t\t\t//messageType: \"geometry_msgs/PoseWithCovariance\"\n\t\t});\n\t\t//create a twist callback\n\t\tvel_subscriber.subscribe((message)=>{\n\t\t\tthis.setState({linear_velocity:message.linear.x});\n\t\t\tthis.setState({angular_velocity:message.angular.z});\n\t\t});\n\n\t\t//create a pose subscriber\n\t\tvar pose_subscriber = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.ODOM_TOPIC,\n\t\t\tmessageType : \"nav_msgs/Odometry\"\n\t\t});\n\t\t//create a pose callback\n\t\tpose_subscriber.subscribe((message)=>{\n\t\t\tthis.setState({x:message.pose.pose.position.x});\n\t\t\tthis.setState({y:message.pose.pose.position.y});\n\t\t\tthis.setState({orientation:this.getOrientationFromQuaternion(message.pose.pose.orientation)});\n\t\t});\n\n\t\t//create a pwm subscriber\n\t\tvar pwm_subscriber = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.PWM_TOPIC,\n\t\t\tmessageType : \"std_msgs/Int16\"\n\t\t});\n\t\t//create a pwm callback\n\t\tpwm_subscriber.subscribe((message)=>{\n\t\t\tthis.setState({pwm:message.data});\n\t\t});\n\n\t\t//create a pwm turn subscriber\n\t\tvar pwm_turn_subscriber = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.PWM_TURN_TOPIC,\n\t\t\tmessageType : \"std_msgs/Int16\"\n\t\t});\n\t\t//create a pwm callback\n\t\tpwm_turn_subscriber.subscribe((message)=>{\n\t\t\tthis.setState({pwm_turn:message.data});\n\t\t});\n\n\t\t//create a lwheel subscriber\n\t\tvar lwheel_subscriber = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.ENCODER_LEFT_TOPIC,\n\t\t\tmessageType : \"std_msgs/Int16\"\n\t\t});\n\t\t//create a lwheel callback\n\t\tlwheel_subscriber.subscribe((message)=>{\n\t\t\tthis.setState({lwheel:message.data});\n\t\t});\n\n\t\t//create a rwheel subscriber\n\t\tvar rwheel_subscriber = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.ENCODER_RIGHT_TOPIC,\n\t\t\tmessageType : \"std_msgs/Int16\"\n\t\t});\n\t\t//create a rwheel callback\n\t\trwheel_subscriber.subscribe((message)=>{\n\t\t\tthis.setState({rwheel:message.data});\n\t\t});\n\t}\n\n\tchangePwm(dpwm,dpwm_turn){\n\t    var pwm_publisher = new window.ROSLIB.Topic({\n\t        ros: this.state.ros,\n\t        name: Config.PWM_TOPIC,\n\t        messageType: 'std_msgs/Int16'\n\t    });\n\t    var pwm_turn_publisher = new window.ROSLIB.Topic({\n\t        ros: this.state.ros,\n\t        name: Config.PWM_TURN_TOPIC,\n\t        messageType: 'std_msgs/Int16'\n\t    });\n\t    var pwm_msg = new window.ROSLIB.Message({\n\t        data: this.state.pwm+dpwm\n\t    });\n\t    var pwm_turn_msg = new window.ROSLIB.Message({\n\t        data: this.state.pwm_turn+dpwm_turn\n\t    });\n\t    pwm_publisher.publish(pwm_msg);\n\t    pwm_turn_publisher.publish(pwm_turn_msg);\n\t}\n\n\tchangeROSState(){\n\t\tthis.setState({pwm_control:!this.state.pwm_control});\n\t    var pwm_control_publisher = new window.ROSLIB.Topic({\n\t        ros: this.state.ros,\n\t        name: Config.PWM_CONTROL_TOPIC,\n\t        messageType: 'std_msgs/Bool'\n\t    });\n\t    var pwm_control_msg = new window.ROSLIB.Message({\n\t        data: this.state.pwm_control\n\t    });\n\t    pwm_control_publisher.publish(pwm_control_msg);\n\t}\n\n\n\tgetOrientationFromQuaternion(ros_orientation_quat){\n\t\tvar q = new Three.Quaternion(\n\t\t\tros_orientation_quat.x,\n\t\t\tros_orientation_quat.y,\n\t\t\tros_orientation_quat.z,\n\t\t\tros_orientation_quat.w\n\t\t);\n\t\t//convert this quaternion into roll, pitch and yaw\n\t\tvar RPY = new Three.Euler().setFromQuaternion(q);\n\t\treturn RPY[\"_z\"]*(180/Math.PI);\n\t}\n\n\trender() {\n\t\treturn ( \n\t\t\t<div>\n\t\t\t\t<ListGroup>\n\t\t\t\t\t\t<ListGroup.Item variant=\"light\">\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<h4 className=\"mt-4\">PWM Control&ensp;\n\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{this.changeROSState()}} \n\t\t\t\t\t\t\t\t\t\tvariant={this.state.pwm_control?\"danger\":\"success\"}>\n\t\t\t\t\t\t\t\t\t\t{this.state.pwm_control?\"OFF\":\"ON\"}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t<p className=\"mt-0\">\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup vertical size=\"sm\">\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{this.changePwm(10,0)}} variant=\"secondary\" \n\t\t\t\t\t\t\t\t\t\t\tdisabled={this.state.pwm_control?true:false}>+</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{this.changePwm(-10,0)}} variant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={this.state.pwm_control?true:false}>-</Button>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t&emsp;Straight PWM : {this.state.pwm.toFixed(0)} \n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"mt-0\">\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup vertical size=\"sm\">\n\t\t\t\t\t\t\t\t\t\t \t<Button onClick={()=>{this.changePwm(0,10)}} variant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t \tdisabled={this.state.pwm_control?true:false}>+</Button>\n\t\t\t\t\t\t\t\t\t\t \t<Button onClick={()=>{this.changePwm(0,-10)}} variant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t \tdisabled={this.state.pwm_control?true:false}>-</Button>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t&emsp;Turning PWM : {this.state.pwm_turn.toFixed(0)} \n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</Col>&emsp;\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<br/><Teleoperation/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item variant=\"dark\">\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<h4 className=\"mt-4\">Velocity</h4>\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\">Linear Velocity : {this.state.linear_velocity.toFixed(2)}</p>\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\">Angular Velocity : {this.state.angular_velocity.toFixed(2)}</p>\n\t\t\t\t\t\t\t\t</Col>&emsp;&emsp;&emsp;\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<h4 className=\"mt-4\">Position</h4>\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\">x : {this.state.x.toFixed(2)}</p>\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\">y : {this.state.x.toFixed(2)}</p>\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\">θ : {this.state.orientation.toFixed(2)}</p>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t<h4 className=\"mt-4\">Encoder</h4>\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\">Left Count : {this.state.lwheel.toFixed(0)}</p>\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\">Right Count : {this.state.rwheel.toFixed(0)}</p>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t</ListGroup>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default RobotState;"]},"metadata":{},"sourceType":"module"}